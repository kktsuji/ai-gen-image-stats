experiment: diffusion
mode: train

compute:
  device: cuda
  seed: null

model:
  architecture:
    image_size: 40
    in_channels: 3
    model_channels: 64
    channel_multipliers: [1, 2, 4]
    use_attention: [false, false, true]
  diffusion:
    num_timesteps: 1000
    beta_schedule: cosine
    beta_start: 0.0001
    beta_end: 0.02
  conditioning:
    type: null
    num_classes: null
    class_dropout_prob: 0.1

# Missing data.paths.train - makes this config invalid
data:
  paths:
    val: null
  loading:
    batch_size: 32
    num_workers: 4
    pin_memory: true
    shuffle_train: true
    drop_last: false
  augmentation:
    horizontal_flip: true
    rotation_degrees: 0
    color_jitter:
      enabled: false
      strength: 0.1

output:
  base_dir: outputs
  subdirs:
    logs: logs
    checkpoints: checkpoints
    samples: samples
    generated: generated

training:
  epochs: 200
  optimizer:
    type: adam
    learning_rate: 0.0001
    weight_decay: 0.0
    betas: [0.9, 0.999]
    gradient_clip_norm: null
  scheduler:
    type: null
    T_max: 200
    eta_min: 1.0e-06
  ema:
    enabled: true
    decay: 0.9999
  checkpointing:
    save_frequency: 10
    save_best_only: false
    save_optimizer: true
  validation:
    enabled: true
    frequency: 1
    metric: loss
  visualization:
    enabled: true
    interval: 10
    num_samples: 8
    guidance_scale: 3.0
  performance:
    use_amp: false
    use_tf32: true
    cudnn_benchmark: true
    compile_model: false
  resume:
    enabled: false
    checkpoint: null
    reset_optimizer: false
    reset_scheduler: false
