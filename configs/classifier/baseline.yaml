# ResNet50 Baseline Configuration (V2 Format)
experiment: classifier
mode: train

compute:
  device: cuda
  seed: null

model:
  architecture:
    name: resnet50
    num_classes: 2
  initialization:
    pretrained: true
    freeze_backbone: false
    trainable_layers: null
  regularization:
    dropout: 0.5

data:
  paths:
    train: data/0.Normal
    val: data/1.Abnormal
  loading:
    batch_size: 32
    num_workers: 4
    pin_memory: true
    shuffle_train: true
    drop_last: false
  preprocessing:
    image_size: 256
    crop_size: 224
    normalize: imagenet
  augmentation:
    horizontal_flip: true
    rotation_degrees: 0
    color_jitter:
      enabled: false
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1

output:
  base_dir: outputs
  subdirs:
    logs: logs
    checkpoints: checkpoints

training:
  epochs: 100
  optimizer:
    type: adam
    learning_rate: 0.001
    weight_decay: 0.0001
    gradient_clip_norm: null
  scheduler:
    type: cosine
    T_max: auto
    eta_min: 1.0e-6
  checkpointing:
    save_frequency: 10
    save_best_only: true
    save_optimizer: true
  validation:
    enabled: true
    frequency: 1
    metric: accuracy
    early_stopping_patience: null
  performance:
    use_amp: false
    use_tf32: true
    cudnn_benchmark: true
    compile_model: false
  resume:
    enabled: false
    checkpoint: null
    reset_optimizer: false
    reset_scheduler: false

evaluation:
  checkpoint: null
  data:
    test_path: data/test
    batch_size: 32
  output:
    save_predictions: true
    save_confusion_matrix: true
    save_metrics: true
